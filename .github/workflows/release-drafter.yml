name: Release Drafter

on:
    push:
        branches: [main]

permissions:
    contents: write

concurrency:
    group: release-drafter-${{ github.ref }}
    cancel-in-progress: true

jobs:
    update_release_draft:
        timeout-minutes: 5
        if: github.event_name == 'push' && github.ref == 'refs/heads/main'
        runs-on: ubuntu-latest
        steps:
            - uses: release-drafter/release-drafter@v6.1.0
              with:
                  config-name: release-drafter.yml
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
